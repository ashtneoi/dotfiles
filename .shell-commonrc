# Source this in .bashrc, .zshrc, etc.
# E.g., `source ~/.shell-commonrc`

alias info='/usr/bin/info --vi-keys'

ldot() {
	ls -AF --group-directories-first $* | grep '^\.'
}

alias l='/bin/ls -AFv --group-directories-first'
alias lc='l --color'
alias ll='l -l'
alias llc='ll --color'
alias llv='ll -v'

alias ls='/bin/ls -v'
alias lsl='ls -l'
alias lsc='ls --color'
alias lsd='ls -d */'


mana() {
	man $* 2>/dev/null || whatis $(apropos $* | grep -o '^\S*'$*'\S*')
}

alias locate='/usr/bin/locate -e'

alias dfm='/bin/df --block-size=1M'
alias dfg='/bin/df --block-size=1G'

alias clock='watch -n .1 date +%T'

alias notes='vim $(date -I)'

follow() {
	if ! which $* >/dev/null 2>&1; then {
		echo "$0: $1: No such file or file is not in path.";
	}; else {
		local output
		output=$(namei -v $(which $*) 2>/dev/null | colrm 1 2)
		echo $output | head -n 1 | colrm 1 1 | tr -d '\n' && echo :
		echo
		echo $output | tail -n +2 | grep -- '->' || echo "File is not a link."
	}; fi
}

# Follow file
followf() {
	if ! [[ -e $1 ]]; then {
		echo "$0: $1: No such file.";
	}; else {
		local output
		output=$(namei -v $* 2>/dev/null | colrm 1 2)
		echo $output | tail -n +2 | grep -- '->'
	}; fi
}

if [[ -e /usr/bin/glhack ]]; then {
	alias glhack='/usr/bin/glhack --windowed'
}; fi

alias sudo='sudo '
# The space at the end allows alias expansion of the word following 'sudo'

# Similar to `git remote -v`
#alias gitrepo="git config --get-regexp 'remote\..*\.url' | awk '{print \$2}'"

#if which nethack >/dev/null 2>&1; then {
	#export NETHACKOPTIONS=~/.nethackrc
#}; fi

#export GLHACKOPTIONS=
#export SLASHEMOPTIONS=~/.slashemoptions-all
#export LESS='-MRS --shift=5'
export LESS='-MR --shift=5'
export EDITOR=vim

if [[ -e ~/.shell-commonrc-local ]]; then {
	source ~/.shell-commonrc-local
}; fi

date --rfc-3339=ns >>~/shell-times

TERM=xterm-256color

if [[ -e ~/.shell-commonrc-local ]]; then {
	source ~/.shell-commonrc-local
}; fi

# vim: syntax=sh:
